{"ast":null,"code":"import _defineProperty from\"/Users/hariharan.thavachelvam/Documents/Sandbox/workspace/microservices-v1/challenges-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/Users/hariharan.thavachelvam/Documents/Sandbox/workspace/microservices-v1/challenges-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/hariharan.thavachelvam/Documents/Sandbox/workspace/microservices-v1/challenges-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/hariharan.thavachelvam/Documents/Sandbox/workspace/microservices-v1/challenges-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/hariharan.thavachelvam/Documents/Sandbox/workspace/microservices-v1/challenges-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/hariharan.thavachelvam/Documents/Sandbox/workspace/microservices-v1/challenges-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import*as React from\"react\";import ApiClient from\"../services/ApiClient\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChallengeComponent=/*#__PURE__*/function(_React$Component){_inherits(ChallengeComponent,_React$Component);var _super=_createSuper(ChallengeComponent);function ChallengeComponent(props){var _this;_classCallCheck(this,ChallengeComponent);_this=_super.call(this,props);_this.state={a:'',b:'',user:'',message:'',guess:0};_this.handleSubmitResult=_this.handleSubmitResult.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(ChallengeComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;ApiClient.challenge().then(function(res){if(res.ok){res.json().then(function(json){_this2.setState({a:json.factorA,b:json.factorB});});}else{_this2.updateMessage(\"Can't reach the server\");}});}},{key:\"handleChange\",value:function handleChange(event){var name=event.target.name;this.setState(_defineProperty({},name,event.target.value));}},{key:\"handleSubmitResult\",value:function handleSubmitResult(event){var _this3=this;event.preventDefault();ApiClient.sendGuess(this.state.user,this.state.a,this.state.b,this.state.guess).then(function(res){if(res.ok){res.json().then(function(json){if(json.correct){_this3.updateMessage(\"Congratulations! Your guess is correct\");}else{_this3.updateMessage(\"Oops! Your guess \"+json.resultAttempt+\" is wrong, but keep playing!\");}});}else{_this3.updateMessage(\"Error: server error or not available\");}});}},{key:\"updateMessage\",value:function updateMessage(m){this.setState({message:m});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your new challenge is\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[this.state.a,\" x \",this.state.b]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmitResult,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Your alias:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:\"12\",name:\"user\",value:this.state.user,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Your guess:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",name:\"guess\",value:this.state.guess,onChange:this.handleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})]}),/*#__PURE__*/_jsx(\"h4\",{children:this.state.message})]});}}]);return ChallengeComponent;}(React.Component);export default ChallengeComponent;","map":{"version":3,"names":["React","ApiClient","jsx","_jsx","jsxs","_jsxs","ChallengeComponent","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","a","b","user","message","guess","handleSubmitResult","bind","_assertThisInitialized","handleChange","_createClass","key","value","componentDidMount","_this2","challenge","then","res","ok","json","setState","factorA","factorB","updateMessage","event","name","target","_defineProperty","_this3","preventDefault","sendGuess","correct","resultAttempt","m","render","children","onSubmit","type","maxLength","onChange","min","Component"],"sources":["/Users/hariharan.thavachelvam/Documents/Sandbox/workspace/microservices-v1/challenges-frontend/src/components/ChallengeComponent.js"],"sourcesContent":["import * as React from \"react\";\nimport ApiClient from \"../services/ApiClient\";\n\nclass ChallengeComponent extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            a: '', b: '',\n            user: '',\n            message: '',\n            guess: 0\n        };\n        this.handleSubmitResult = this.handleSubmitResult.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidMount(): void {\n        ApiClient.challenge().then(\n            res => {\n                if (res.ok) {\n                    res.json().then(json => {\n                        this.setState({\n                            a: json.factorA,\n                            b: json.factorB\n                        });\n                    });\n                } else {\n                    this.updateMessage(\"Can't reach the server\");\n                }\n            }\n        );\n    }\n\n    handleChange(event) {\n        const name = event.target.name;\n        this.setState({\n            [name]: event.target.value\n        });\n    }\n\n    handleSubmitResult(event) {\n        event.preventDefault();\n        ApiClient.sendGuess(this.state.user,\n            this.state.a, this.state.b,\n            this.state.guess)\n            .then(res => {\n                if (res.ok) {\n                    res.json().then(json => {\n                        if (json.correct) {\n                            this.updateMessage(\"Congratulations! Your guess is correct\");\n                        } else {\n                            this.updateMessage(\"Oops! Your guess \" + json.resultAttempt +\n                            \" is wrong, but keep playing!\");\n                        }\n                    });\n                } else {\n                   this.updateMessage(\"Error: server error or not available\");\n                }\n            });\n    }\n\n    updateMessage(m: string) {\n        this.setState({\n          message: m\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <div>\n                    <h3>Your new challenge is</h3>\n                    <h1>\n                        {this.state.a} x {this.state.b}\n                    </h1>\n                </div>\n                <form onSubmit={this.handleSubmitResult}>\n                    <label>\n                        Your alias:\n                        <input type=\"text\" maxLength=\"12\"\n                               name=\"user\"\n                               value={this.state.user}\n                               onChange={this.handleChange}/>\n                    </label>\n                    <br/>\n                    <label>\n                        Your guess:\n                        <input type=\"number\" min=\"0\"\n                               name=\"guess\"\n                               value={this.state.guess}\n                               onChange={this.handleChange}/>\n                    </label>\n                    <br/>\n                    <input type=\"submit\" value=\"Submit\"/>\n                </form>\n                <h4>{this.state.message}</h4>\n            </div>\n        );\n    }\n}\n\nexport default ChallengeComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}